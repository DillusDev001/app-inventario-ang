<div
    class="flex overflow-auto absolute top-0 right-0 left-0 justify-center items-center w-full h-full bg-primary-100 bg-opacity-60 backdrop-filter backdrop-blur-sm z-10">
    <div class="p-4 w-full max-w-lg max-h-full">
        <div class="bg-color-white rounded-lg shadow">

            <app-custom-my-loading *ngIf="isLoading" [class]="'m-4'"></app-custom-my-loading>

            <div *ngIf="!isLoading" class="flex flex-col p-4 md:p-5 text-center gap-4">
                <app-custom-title [id]="'id_title_usuario'" [label]="title"
                    [class]="'w-full text-center uppercase text-primary-500'">
                </app-custom-title>

                <form class="flex flex-col gap-4 lg:grid lg:grid-cols-2 ">
                    <app-custom-input-2 class="" [id]="'id_input_sucursal'" [label]="'Código'" [type]="'text'"
                        [autocomplete]="''" [class]="''" [classInp]="'uppercase'"
                        [control]="formProducto.controls.codigo" [icon]="'fa-solid fa-shirt fa-lg'">
                    </app-custom-input-2>

                    <app-custom-drop-down [id]="'id_drop_down_tipo'" [label]="'Tipo Prenda...'"
                        [control]="formProducto.controls.tipo" [class]="''" [data]="dataTipo">
                    </app-custom-drop-down>

                    <app-custom-drop-down [id]="'id_drop_down_categoria'" [label]="'Categoría...'"
                        [control]="formProducto.controls.categoria" [class]="''" [data]="dataCategoria">
                    </app-custom-drop-down>

                    <div class="flex gap-2">
                        <app-custom-drop-down [id]="'id_drop_down_color'" [label]="'Color...'"
                            [control]="formProducto.controls.color" [class]="''" [data]="dataColor"
                            (valueChanged)="onDropdownValueChangeSucursal($event)">
                        </app-custom-drop-down>

                        <div class=" w-8 h-full rounded" [ngStyle]="{ 'background-color': hexaColor}">
                        </div>
                    </div>

                    <app-custom-drop-down [id]="'id_drop_down_material'" [label]="'Material...'"
                        [control]="formProducto.controls.material" [class]="''" [data]="dataMaterial">
                    </app-custom-drop-down>

                    <app-custom-drop-down [id]="'id_drop_down_genero_prenda'" [label]="'Género...'"
                        [control]="formProducto.controls.sexo" [class]="''" [data]="dataGeneroPrenda">
                    </app-custom-drop-down>

                    <app-custom-input-2 class="col-span-2" [id]="'id_input_descripcion'" [label]="'Descripción'"
                        [type]="'text'" [autocomplete]="''" [class]="''" [control]="formProducto.controls.descripcion"
                        [icon]="'fa-solid fa-info fa-lg'"></app-custom-input-2>

                    <app-custom-input-2 [id]="'id_input_precio_unitario'" [label]="'Precio Unitario'" [type]="'text'"
                        [autocomplete]="''" [class]="''" [control]="formProducto.controls.precio_unitario"
                        [icon]="'fa-solid fa-dollar-sign fa-lg'">
                    </app-custom-input-2>

                    <app-custom-input-2 [id]="'id_input_precio_mayor'" [label]="'Precio x Mayor'" [type]="'text'"
                        [autocomplete]="''" [class]="''" [control]="formProducto.controls.precio_mayor"
                        [icon]="'fa-solid fa-dollar-sign fa-lg'">
                    </app-custom-input-2>

                    <div class="col-span-2 border border-primary-300 rounded p-2 flex gap-4">
                        <app-custom-drop-down [id]="'id_drop_down_talla'" [label]="'Talla...'"
                            [control]="formTalla.controls.talla" [class]="'w-max'" [data]="dataTalla">
                        </app-custom-drop-down>

                        <app-custom-button-2 *ngIf="type != 'ver'" class="w-full" [id]="'id_button_aceptar'"
                            [label]="'Agregar'" [type]="'accept'" [icon]="''" [class]="'w-max h-12'"
                            [valid]="formTalla.valid && isOnline" (click)="onClickAgregarTalla()">
                        </app-custom-button-2>



                        <div class="overflow-x-auto border rounded">
                            <table class="w-full text-sm text-center text-gray-500 table-fixed">
                                <thead class="text-xs text-gray-700 uppercase">
                                    <tr>
                                        <th scope="col" class="bg-primary-100 py-2 border-b">
                                            Talla
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let talla of formDataTalla" class="bg-white border-b">
                                        <td scope="row" class="">
                                            {{ talla.data }}
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                    </div>
                </form>

                <div class="flex w-full gap-4">
                    <app-custom-button-1 *ngIf="type != 'ver'" class="w-full" [id]="'id_button_aceptar'"
                        [label]="'Aceptar'" [type]="'accept'" [icon]="''" [class]="'w-full'"
                        [valid]="formProducto.valid && isOnline" (click)="onClickAceptar()">
                    </app-custom-button-1>

                    <app-custom-button-1 class="w-full" [id]="'id_button_cancelar'" [label]="'Cancelar'"
                        [type]="'cancel'" [icon]="''" [class]="'w-full'" [valid]="true" (click)="onClickCancelar()">
                    </app-custom-button-1>
                </div>
            </div>
        </div>
    </div>
</div>